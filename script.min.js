!function(){const t=t=>document.querySelector(t),e=t=>[...document.querySelectorAll(t)],n={bar:t("#svgContainer"),scatterPrice:t("#scatterContainer"),scatterTokens:t("#scatterTokensContainer"),themeToggle:t("#themeToggle"),resultsModeButtons:e("[data-results-mode]"),tooltip:t("#tooltip"),filterModal:t("#graphFilterModal"),filterBackdrop:t("#filterBackdrop"),filterCloseBtn:t("#closeFilterModal"),filterToggles:e("[data-open-filter]"),expandToggles:e("[data-expand-target]"),modelSelector:t("#modelSelector"),modelSearch:t("#modelSearch"),modelCount:t("#modelCount"),selectAllBtn:t("#selectAllModels"),clearBtn:t("#clearModels"),top10Btn:t("#top10Models"),topByOrgBtn:t("#topByOrgModels")},r="lateralbench:results-mode:v1",a="lateralbench:theme:v1",i="light",o="dark",s="core",c="hard",l="combined",u=[s,c,l],d="http://www.w3.org/2000/svg",p=[{name:"Example A",company:"Example",accuracy:.7,stderr:.03,nominal_price:1.2,output_tokens:800,input_rate:.5,output_rate:1.2},{name:"Example B",company:"Example",accuracy:.55,stderr:.04,nominal_price:.4,output_tokens:450,input_rate:.2,output_rate:.6}],h=["#2d9f8a","#2c8be6","#f0a43a","#5e7ce2","#d66a56","#7b8d2f","#b06adf","#2d7a9b","#c84b73","#6a9e46"],m={openai:"#10a37f",anthropic:"#d97757",google:"#4285f4",xai:"#111111",meta:"#0668e1",moonshot:"#8b5cf6",moonshotai:"#8b5cf6",alibaba:"#ff6a00","z.ai":"#5f4bff",deepseek:"#2563eb",amazon:"#ff9900",ibm:"#0f62fe",nvidia:"#76b900",baidu:"#2932e1",meituan:"#ffd100",minimax:"#ff5a3c","arcee ai":"#d946ef",arcee:"#d946ef",liquidai:"#00a3a3",stepfun:"#6d28d9",stealth:"#6b7280",cloaked:"#6b7280",inclusionai:"#16a34a",nanbeige:"#c97b3c",other:"#8a8a8a"},b={baseData:[],allData:[],resultsMode:s,selectedKeys:new Set,searchTerm:"",resizeTimer:null,tooltipEl:n.tooltip,activeFilterToggle:null,activeExpandedButton:null,expandedPanel:null,expandedScrollPos:null},f=document.createElement("canvas").getContext("2d");function y(){if(b.tooltipEl||(b.tooltipEl=t("#tooltip")),!b.tooltipEl){const t=document.createElement("div");t.id="tooltip",t.className="tooltip",t.setAttribute("role","tooltip"),t.setAttribute("aria-hidden","true"),document.body.appendChild(t),b.tooltipEl=t}return b.tooltipEl}function A(t,e){const n=y();n.innerHTML=t,n.style.display="block",n.setAttribute("aria-hidden","false"),g(e)}function g(t){const e=y();t&&"number"==typeof t.clientX&&(e.style.left=`${t.clientX+12}px`,e.style.top=`${t.clientY+12}px`)}function x(){const t=y();t.style.display="none",t.setAttribute("aria-hidden","true")}function w(t){return u.includes(t)?t:s}function E(t=b.resultsMode){return`lateralbench:selected-models:v2:${w(t)}`}function S(t,e={}){const{persist:r=!0}=e,s=t===o?o:i;if(document.documentElement.setAttribute("data-theme",s),function(t){if(!n.themeToggle)return;const e=t===o,r=e?"light":"dark";n.themeToggle.setAttribute("aria-pressed",e?"true":"false"),n.themeToggle.setAttribute("aria-label",`Switch to ${r} mode`),n.themeToggle.setAttribute("title",`Switch to ${r} mode`)}(s),r)try{localStorage.setItem(a,s)}catch(t){}}function k(t){if(null==t)return NaN;if("number"==typeof t)return t;const e=String(t).replace(/[$,]/g,"").match(/-?\d+(\.\d+)?/);return e?parseFloat(e[0]):NaN}function M(t){return(t||[]).map(t=>{const e=Object.assign({},t);return e.name=String(e.name||"Unknown"),e.company=String(e.company||"Unknown"),e.accuracy=k(e.accuracy),e.raw_accuracy=k(e.raw_accuracy),e.stderr=k(e.stderr)||0,e.nominal_price=k(e.nominal_price)||0,e.output_tokens=parseInt(k(e.output_tokens)||0,10),e.input_tokens=parseInt(k(e.input_tokens)||0,10),e.input_rate=k(e.input_rate)||0,e.output_rate=k(e.output_rate)||0,e.errors=parseInt(k(e.errors)||0,10),e.hard_accuracy=k(e.hard_accuracy),e.hard_stderr=k(e.hard_stderr),e.hard_output_tokens=k(e.hard_output_tokens),e.hard_input_tokens=k(e.hard_input_tokens),e.hard_nominal_price=k(e.hard_nominal_price),e})}function v(t){return isFinite(t)?t:0}function _(t){return`${t.company}::${t.name}`}function C(t){return String(t).replace(/[&<>"']/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"}[t]||t))}function N(t,e,n){return Math.max(e,Math.min(n,t))}function $(t){return Math.log(t)/Math.log(10)}function T(t){if(!isFinite(t)||t<=0)return"-";if(t<10){const e=Math.round(10*t)/10;return Number.isInteger(e)?`${e}x`:`${e.toFixed(1)}x`}return`${Math.round(t)}x`}function F(t){return isFinite(t)?`${(100*t).toFixed(1)}%`:"-"}function L(t){const e=String(t||"Unknown").trim().toLowerCase();if(m[e])return m[e];let n=0;for(let t=0;t<e.length;t+=1)n=(n<<5)-n+e.charCodeAt(t),n|=0;return h[Math.abs(n)%h.length]}function B(t){return f?(f.font="11px Manrope, Avenir Next, Segoe UI, sans-serif",Math.ceil(f.measureText(t).width)):6*t.length}function z(t,e,n,r,a,i,o,s=["E","NE","SE","N","S","W","NW","SW"]){const c={E:()=>({anchor:"start",tx:t+a+8,ty:e+4,rect:{x:t+a+8,y:e+4-r,w:n,h:r}}),NE:()=>({anchor:"start",tx:t+a+8,ty:e-8,rect:{x:t+a+8,y:e-8-r,w:n,h:r}}),SE:()=>({anchor:"start",tx:t+a+8,ty:e+r+2,rect:{x:t+a+8,y:e+2,w:n,h:r}}),W:()=>({anchor:"end",tx:t-a-8,ty:e+4,rect:{x:t-a-8-n,y:e+4-r,w:n,h:r}}),NW:()=>({anchor:"end",tx:t-a-8,ty:e-8,rect:{x:t-a-8-n,y:e-8-r,w:n,h:r}}),SW:()=>({anchor:"end",tx:t-a-8,ty:e+r+2,rect:{x:t-a-8-n,y:e+2,w:n,h:r}}),N:()=>({anchor:"middle",tx:t,ty:e-a-8,rect:{x:Math.round(t-n/2),y:e-a-8-r,w:n,h:r}}),S:()=>({anchor:"middle",tx:t,ty:e+a+r+2,rect:{x:Math.round(t-n/2),y:e+a+2,w:n,h:r}})},l=t=>t.x>=i.x+3&&t.y>=i.y+3&&t.x+t.w<=i.x+i.w-3&&t.y+t.h<=i.y+i.h-3;for(const t of s){const e=c[t]();if(l(e.rect)&&!o.some(t=>{return n=t,r=e.rect,!(n.x+n.w<=r.x||r.x+r.w<=n.x||n.y+n.h<=r.y||r.y+r.h<=n.y);var n,r}))return e}return null}function I(t){const e=isFinite(t.accuracy)?t.accuracy:t.raw_accuracy;return isFinite(e)?e:NaN}function D(t){const e=I(t);return isFinite(e)?e:-1/0}function P(t){return[...t].sort((t,e)=>D(e)-D(t))}function O(t,e){const n=t.map(t=>k(t[e])).filter(t=>isFinite(t)&&t>0);return n.length?Math.min(...n):1}function W(t,e){const n=F(I(t)),r=`${(100*(t.stderr||0)*1.96).toFixed(2)}%`,a=t.nominal_price>0?t.nominal_price/e.priceMin:NaN,i=t.output_tokens>0?t.output_tokens/e.tokenMin:NaN;return`\n      <strong>${C(t.name)}</strong><br/>\n      ${C(t.company)}<br/>\n      Score: <strong>${n}</strong> Â± ${r}<br/>\n      Cost multiple: <strong>${T(a)}</strong><br/>\n      Token multiple: <strong>${T(i)}</strong><br/>\n      Input rate: ${t.input_rate}/M | Output rate: ${t.output_rate}/M\n    `}function K(t,e){t&&(t.innerHTML=`<div class="empty-state">${C(e)}</div>`)}function H(t){const{container:e,models:n,baselines:r,xField:a,xLabel:i,ariaLabel:o}=t;if(!e)return;const s=n.filter(t=>{const e=I(t);return isFinite(e)&&isFinite(t[a])&&t[a]>0});if(!s.length)return void K(e,"Not enough selected models for this chart.");const c=O(s,a),l=s.map(t=>({model:t,accuracy:N(I(t),0,1),multiple:t[a]/c})),u=Math.max(1,...l.map(t=>t.multiple)),p=function(t){if(!isFinite(t)||t<=1)return[1];const e=[],n=[1,2,5],r=Math.floor($(1)),a=Math.ceil($(t));for(let i=r;i<=a;i+=1)for(const r of n){const n=r*Math.pow(10,i);n>=1&&n<=1.001*t&&e.push(n)}return e.length?e:[1,t]}(u),h=l.map(t=>t.accuracy);let m=Math.min(...h),b=Math.max(...h);if(isFinite(m)&&isFinite(b)||(m=0,b=1),Math.abs(b-m)<.06){const t=(m+b)/2;m=t-.03,b=t+.03}const f=Math.max(.02,.18*(b-m));if(m=N(m-f,0,1),b=N(b+f,0,1),Math.abs(b-m)<.08){const t=(m+b)/2;m=N(t-.04,0,1),b=N(t+.04,0,1)}const y=function(t,e,n=5){if(!isFinite(t)||!isFinite(e)||e<=t)return[t,e];const r=[];for(let a=0;a<=n;a+=1)r.push(t+(e-t)*a/n);return r}(m,b,5),w=28,E=70,S=e.closest(".chart-panel"),k=Boolean(S&&S.classList.contains("panel-expanded")),M=k&&S?S.clientWidth-52:0,v=Math.max(360,M||e.clientWidth||800),_=Math.max(240,v-E-24);let C=Math.max(240,Math.min(_,520)),F=C;if(k){const t=1.35,e=Math.max(300,window.innerHeight-240),n=Math.max(260,_),r=e*t;r<=n?(F=e,C=r):(C=n,F=C/t),C=Math.round(Math.max(240,C)),F=Math.round(Math.max(220,F))}const D=E+C+24,P=w+F+52;function H(t){const e=$(1),n=$(u);if(!isFinite(n-e)||Math.abs(n-e)<1e-5)return E+C/2;const r=($(N(t,1,u))-e)/(n-e);return E+r*C}function j(t){return w+(1-(N(t,m,b)-m)/(b-m||1))*F}e.innerHTML="";const U=document.createElementNS(d,"svg");U.setAttribute("viewBox",`0 0 ${D} ${P}`),U.setAttribute("width",D),U.setAttribute("height",P),U.setAttribute("role","img"),U.setAttribute("aria-label",o),k?(U.style.width=`${D}px`,U.style.maxWidth="100%",U.style.height="auto"):(U.style.width="100%",U.style.height="auto"),e.appendChild(U);const q=document.createElementNS(d,"rect");q.setAttribute("x",0),q.setAttribute("y",0),q.setAttribute("width",D),q.setAttribute("height",P),q.setAttribute("fill","transparent"),U.appendChild(q);const V="dark"===document.documentElement.getAttribute("data-theme"),X=`betterCorner-${String(e.id||a||"scatter").replace(/[^a-zA-Z0-9_-]/g,"")}`,Y=document.createElementNS(d,"defs"),J=document.createElementNS(d,"radialGradient");J.setAttribute("id",X),J.setAttribute("cx","0%"),J.setAttribute("cy","0%"),J.setAttribute("fx","0%"),J.setAttribute("fy","0%"),J.setAttribute("r","120%");const G=document.createElementNS(d,"stop");G.setAttribute("offset","0%"),G.setAttribute("stop-color",V?"#5adab1":"#4cbf96"),G.setAttribute("stop-opacity",V?"0.24":"0.2"),J.appendChild(G);const R=document.createElementNS(d,"stop");R.setAttribute("offset","38%"),R.setAttribute("stop-color",V?"#49b997":"#74d3b3"),R.setAttribute("stop-opacity",V?"0.1":"0.08"),J.appendChild(R);const Z=document.createElementNS(d,"stop");Z.setAttribute("offset","100%"),Z.setAttribute("stop-color",V?"#0b1422":"#ffffff"),Z.setAttribute("stop-opacity","0"),J.appendChild(Z),Y.appendChild(J),U.appendChild(Y);const Q=document.createElementNS(d,"rect");Q.setAttribute("x",E),Q.setAttribute("y",w),Q.setAttribute("width",C),Q.setAttribute("height",F),Q.setAttribute("fill",`url(#${X})`),Q.style.pointerEvents="none",U.appendChild(Q),p.forEach(t=>{const e=H(t),n=document.createElementNS(d,"text");n.setAttribute("x",e),n.setAttribute("y",w+F+18),n.setAttribute("text-anchor","middle"),n.setAttribute("font-size",11),n.setAttribute("fill","rgba(25, 52, 79, 0.82)"),n.textContent=T(t),n.style.pointerEvents="none",U.appendChild(n)}),y.forEach(t=>{const e=j(t),n=document.createElementNS(d,"text");n.setAttribute("x",60),n.setAttribute("y",e+4),n.setAttribute("text-anchor","end"),n.setAttribute("font-size",11),n.setAttribute("fill","rgba(25, 52, 79, 0.84)");const r=100*t;n.textContent=Math.abs(b-m)<.25?`${r.toFixed(1)}%`:`${Math.round(r)}%`,n.style.pointerEvents="none",U.appendChild(n)});const tt=document.createElementNS(d,"text");tt.setAttribute("x",E+C/2),tt.setAttribute("y",w+F+37),tt.setAttribute("text-anchor","middle"),tt.setAttribute("font-size",12),tt.setAttribute("fill","rgba(24, 50, 75, 0.86)"),tt.textContent=i,tt.style.pointerEvents="none",U.appendChild(tt);const et=document.createElementNS(d,"text");et.setAttribute("x",20),et.setAttribute("y",w+F/2),et.setAttribute("text-anchor","middle"),et.setAttribute("font-size",12),et.setAttribute("fill","rgba(24, 50, 75, 0.86)"),et.setAttribute("transform",`rotate(-90 20 ${w+F/2})`),et.textContent="Score (%)",et.style.pointerEvents="none",U.appendChild(et);const nt=l.map(t=>({...t,x:H(t.multiple),y:j(t.accuracy)}));nt.sort((t,e)=>e.accuracy-t.accuracy);const rt=5.5,at={x:E,y:w,w:C,h:F},it=[];nt.forEach((t,e)=>{const n=B(t.model.name)+4;let r=z(t.x,t.y,n,14,rt,at,it);r||0!==e||(r=z(t.x,t.y,n,14,rt,at,[],["NE","E","N","W","SE"])||{anchor:"start",tx:t.x+rt+8,ty:t.y-8,rect:{x:t.x+rt+8,y:t.y-22,w:n,h:14}}),t.label=r?{anchor:r.anchor,x:r.tx,y:r.ty,alwaysVisible:!0,bold:0===e}:{anchor:"start",x:t.x+rt+8,y:t.y-8,alwaysVisible:!1,bold:!1},r&&it.push(r.rect)}),nt.forEach((t,e)=>{const{model:n,accuracy:a,x:i,y:o}=t,s=document.createElementNS(d,"g");s.style.cursor="pointer";const c=document.createElementNS(d,"circle");c.setAttribute("cx",i),c.setAttribute("cy",o),c.setAttribute("r",0),c.setAttribute("fill",L(n.company)),c.setAttribute("stroke","rgba(255,255,255,0.95)"),c.setAttribute("stroke-width",1.2),c.style.transition="r 420ms cubic-bezier(.2,.9,.2,1)",s.appendChild(c);const l=document.createElementNS(d,"circle");l.setAttribute("cx",i),l.setAttribute("cy",o),l.setAttribute("r",11.5),l.setAttribute("fill","transparent"),s.appendChild(l);const u=document.createElementNS(d,"text");u.setAttribute("x",t.label.x),u.setAttribute("y",t.label.y),u.setAttribute("text-anchor",t.label.anchor),u.setAttribute("font-size",11),u.setAttribute("fill","rgba(24, 49, 73, 0.92)"),u.setAttribute("stroke","rgba(255, 255, 255, 0.86)"),u.setAttribute("stroke-width",2),u.setAttribute("paint-order","stroke"),t.label.bold&&u.setAttribute("font-weight",700),u.textContent=n.name,u.style.opacity=t.label.alwaysVisible?1:0,u.style.transition="opacity 200ms ease",u.style.pointerEvents="none",s.appendChild(u),U.appendChild(s),s.addEventListener("mouseenter",e=>{A(W(n,r),e),t.label.alwaysVisible||(u.style.opacity=1)}),s.addEventListener("mousemove",g),s.addEventListener("mouseleave",()=>{x(),t.label.alwaysVisible||(u.style.opacity=0)}),setTimeout(()=>{c.setAttribute("r",rt)},45+18*e)});const ot=document.createElementNS(d,"rect");ot.setAttribute("x",E),ot.setAttribute("y",w),ot.setAttribute("width",C),ot.setAttribute("height",F),ot.setAttribute("fill","transparent"),ot.setAttribute("stroke","rgba(21, 47, 76, 0.26)"),ot.setAttribute("stroke-width",1),ot.style.pointerEvents="none",U.appendChild(ot)}function j(){return Boolean(n.filterModal&&!n.filterModal.hidden)}function U(t){n.filterToggles.forEach(e=>{e.setAttribute("aria-expanded",t?"true":"false")})}function q(){const t=`Filter models (${b.selectedKeys.size}/${b.allData.length})`;n.filterToggles.forEach(e=>{e.textContent=t,e.setAttribute("aria-label",t)})}function V(){if(!n.filterModal||!j())return;const t=b.activeFilterToggle||n.filterToggles[0];if(!t)return;const e=t.getBoundingClientRect(),r=n.filterModal,a=Math.min(460,window.innerWidth-20);r.style.width=`${Math.max(280,a)}px`;const i=r.offsetHeight||0,o=e.bottom+10,s=Math.min(o,window.innerHeight-i-10),c=N(e.right-r.offsetWidth,10,window.innerWidth-r.offsetWidth-10);r.style.left=`${c}px`,r.style.top=`${Math.max(10,s)}px`}function X(t={}){const{restoreFocus:e=!1}=t;n.filterModal&&(n.filterModal.hidden=!0,n.filterBackdrop&&(n.filterBackdrop.hidden=!0),U(!1),e&&b.activeFilterToggle&&b.activeFilterToggle.focus())}function Y(t,e){if(!t)return;t.setAttribute("aria-expanded",e?"true":"false");const n=e?"Collapse":"Expand";t.setAttribute("aria-label",`${n} chart`),t.setAttribute("title",`${n} chart`)}function J(t={}){const{restoreFocus:e=!1}=t;if(!b.expandedPanel)return;const r=e?b.activeExpandedButton:null,a=b.expandedScrollPos?{x:b.expandedScrollPos.x,y:b.expandedScrollPos.y}:null;b.expandedPanel.classList.remove("panel-expanded"),b.expandedPanel=null,document.body.classList.remove("no-scroll"),n.expandToggles.forEach(t=>Y(t,!1)),b.activeExpandedButton=null,b.expandedScrollPos=null,nt(),r&&function(t){if(t&&"function"==typeof t.focus)try{t.focus({preventScroll:!0})}catch(e){t.focus()}}(r),a&&window.requestAnimationFrame(()=>{window.scrollTo(a.x,a.y)})}function G(){try{localStorage.setItem(E(),JSON.stringify([...b.selectedKeys]))}catch(t){}}function R(){const t=P(b.allData).slice(0,10);return new Set(t.map(t=>_(t)))}function Z(t,e={}){const{persist:a=!0}=e;b.resultsMode=w(t),n.resultsModeButtons.forEach(t=>{const e=w(t.getAttribute("data-results-mode"))===b.resultsMode;t.setAttribute("aria-pressed",e?"true":"false")}),b.allData=function(t,e){return function(t){const e=new Map;return t.forEach(t=>{const n=_(t);if(!e.has(n))return void e.set(n,t);const r=e.get(n);D(t)>D(r)&&e.set(n,t)}),[...e.values()]}((t||[]).map(t=>function(t,e){if(e===s)return Object.assign({},t);if(!function(t){return isFinite(t.hard_accuracy)&&isFinite(t.hard_stderr)&&isFinite(t.hard_output_tokens)&&isFinite(t.hard_nominal_price)}(t))return null;if(e===c)return Object.assign({},t,{accuracy:t.hard_accuracy,raw_accuracy:NaN,stderr:t.hard_stderr,output_tokens:parseInt(t.hard_output_tokens||0,10),input_tokens:parseInt(t.hard_input_tokens||0,10),nominal_price:t.hard_nominal_price,errors:0});if(e===l){const e=v(t.accuracy),n=v(t.hard_accuracy),r=v(t.stderr),a=v(t.hard_stderr),i=v(t.output_tokens),o=v(t.hard_output_tokens),s=v(t.input_tokens),c=v(t.hard_input_tokens),l=v(t.nominal_price),u=v(t.hard_nominal_price);return Object.assign({},t,{accuracy:.33*e+.66*n,raw_accuracy:NaN,stderr:Math.min(r,a),output_tokens:parseInt(i+o,10),input_tokens:parseInt(s+c,10),nominal_price:l+u,errors:0})}return null}(t,e)).filter(t=>Boolean(t)))}(b.baseData,b.resultsMode),b.searchTerm="",n.modelSearch&&(n.modelSearch.value=""),function(){const t=new Set(b.allData.map(t=>_(t)));try{let e=localStorage.getItem(E());if(null===e&&b.resultsMode===s&&(e=localStorage.getItem("lateralbench:selected-models:v1")),null===e)return void(b.selectedKeys=R());const n=JSON.parse(e);if(!Array.isArray(n))return void(b.selectedKeys=R());const r=n.filter(e=>t.has(e));if(n.length>0&&0===r.length)return void(b.selectedKeys=R());b.selectedKeys=new Set(r)}catch(t){b.selectedKeys=R()}}(),a&&function(){try{localStorage.setItem(r,b.resultsMode)}catch(t){}}(),et(),nt()}function Q(){if(!n.modelCount)return void q();const t=b.selectedKeys.size,e=b.allData.length;n.modelCount.textContent=`${t} of ${e} selected`,q()}function tt(t){b.selectedKeys=new Set(t.map(t=>_(t))),G(),et(),nt()}function et(){if(!n.modelSelector)return;const t=function(){const t=b.searchTerm.trim().toLowerCase(),e=P(b.allData);return t?e.filter(e=>`${e.name} ${e.company}`.toLowerCase().includes(t)):e}();if(!t.length)return n.modelSelector.innerHTML='<div class="model-selector-empty">No models match this search.</div>',void Q();const e=t.map(t=>{const e=_(t),n=b.selectedKeys.has(e)?"checked":"",r=L(t.company),a=F(I(t));return`\n          <label class="model-chip" data-key="${C(e)}">\n            <input type="checkbox" data-model-key="${C(e)}" ${n} />\n            <span class="chip-body">\n              <span class="chip-swatch" style="background:${r}"></span>\n              <span class="chip-name">${C(t.name)}</span>\n              <span class="chip-score">${a}</span>\n            </span>\n          </label>\n        `}).join("");n.modelSelector.innerHTML=e,Q()}function nt(){const t=b.allData.filter(t=>b.selectedKeys.has(_(t))),e={priceMin:O(t.length?t:b.allData,"nominal_price"),tokenMin:O(t.length?t:b.allData,"output_tokens")};!function(t,e){const r=n.bar;if(!r)return;if(!t.length)return void K(r,"No models selected. Choose at least one model to render the leaderboard.");const a=P(t),i={top:20,right:20,bottom:20,left:N(a.reduce((t,e)=>Math.max(t,B(e.name)),120)+86,190,360)},o=Math.max(640,r.clientWidth||980),s=Math.max(260,o-i.left-i.right),c=i.left+s+i.right,l=i.top+i.bottom+46*a.length;r.innerHTML="";const u=document.createElementNS(d,"svg");u.setAttribute("viewBox",`0 0 ${c} ${l}`),u.setAttribute("width","100%"),u.setAttribute("height",l),u.setAttribute("role","img"),u.setAttribute("aria-label","Leaderboard bar chart"),r.appendChild(u);const p=document.createElementNS(d,"rect");p.setAttribute("x",0),p.setAttribute("y",0),p.setAttribute("width",c),p.setAttribute("height",l),p.setAttribute("fill","transparent"),p.style.pointerEvents="none",u.appendChild(p);for(let t=0;t<=100;t+=10){const e=i.left+t/100*s,n=document.createElementNS(d,"line");n.setAttribute("x1",e),n.setAttribute("x2",e),n.setAttribute("y1",i.top/2),n.setAttribute("y2",l-i.bottom/2),n.setAttribute("stroke",t%20==0?"rgba(21, 47, 76, 0.2)":"rgba(21, 47, 76, 0.12)"),n.setAttribute("stroke-width",1),u.appendChild(n);const r=document.createElementNS(d,"text");r.setAttribute("x",e),r.setAttribute("y",i.top-6),r.setAttribute("text-anchor","middle"),r.setAttribute("font-size",11),r.setAttribute("fill","rgba(28, 56, 84, 0.8)"),r.textContent=`${t}%`,u.appendChild(r)}a.forEach((t,n)=>{const r=i.top+46*n,a=N(I(t),0,1),o=Math.max(3,a*s),c=document.createElementNS(d,"text");c.setAttribute("x",12),c.setAttribute("y",r+17-2),c.setAttribute("font-size",12.5),c.setAttribute("font-weight",700),c.setAttribute("fill","#19344e"),c.textContent=t.name,u.appendChild(c);const l=document.createElementNS(d,"text");if(l.setAttribute("x",12),l.setAttribute("y",r+17+13),l.setAttribute("font-size",10.5),l.setAttribute("fill","rgba(25, 52, 79, 0.72)"),l.textContent=t.company,u.appendChild(l),isFinite(t.raw_accuracy)&&t.raw_accuracy!==t.accuracy){const e=document.createElementNS(d,"text");e.setAttribute("x",i.left+s-4),e.setAttribute("y",r+17+12),e.setAttribute("text-anchor","end"),e.setAttribute("font-size",10.5),e.setAttribute("fill","rgba(25, 52, 79, 0.62)"),e.textContent=`raw ${F(t.raw_accuracy)} | errors ${t.errors||0}`,u.appendChild(e)}const p=document.createElementNS(d,"rect");p.setAttribute("x",i.left),p.setAttribute("y",r+3),p.setAttribute("width",s),p.setAttribute("height",28),p.setAttribute("rx",9),p.setAttribute("ry",9),p.setAttribute("fill","rgba(23, 56, 88, 0.12)"),u.appendChild(p);const h=document.createElementNS(d,"rect");h.setAttribute("x",i.left),h.setAttribute("y",r+3),h.setAttribute("width",0),h.setAttribute("height",28),h.setAttribute("rx",9),h.setAttribute("ry",9),h.setAttribute("fill",L(t.company)),h.style.transition="width 620ms cubic-bezier(.2,.9,.2,1)",u.appendChild(h);const m=document.createElementNS(d,"text");m.setAttribute("x",i.left+o+10),m.setAttribute("y",r+17+5),m.setAttribute("font-size",12),m.setAttribute("font-weight",700),m.setAttribute("fill","#173552"),m.textContent=F(a),u.appendChild(m);const b=1.96*(t.stderr||0),f=N(a-b,0,1),y=N(a+b,0,1),w=i.left+f*s,E=i.left+y*s,S=document.createElementNS(d,"line");S.setAttribute("x1",w),S.setAttribute("x2",E),S.setAttribute("y1",r+17+2),S.setAttribute("y2",r+17+2),S.setAttribute("stroke","rgba(20, 45, 73, 0.78)"),S.setAttribute("stroke-width",1.2),u.appendChild(S);const k=document.createElementNS(d,"line");k.setAttribute("x1",w),k.setAttribute("x2",w),k.setAttribute("y1",r+8),k.setAttribute("y2",r+34-8),k.setAttribute("stroke","rgba(20, 45, 73, 0.78)"),k.setAttribute("stroke-width",1.2),u.appendChild(k);const M=document.createElementNS(d,"line");M.setAttribute("x1",E),M.setAttribute("x2",E),M.setAttribute("y1",r+8),M.setAttribute("y2",r+34-8),M.setAttribute("stroke","rgba(20, 45, 73, 0.78)"),M.setAttribute("stroke-width",1.2),u.appendChild(M);const v=document.createElementNS(d,"rect");v.setAttribute("x",i.left-6),v.setAttribute("y",r),v.setAttribute("width",s+12),v.setAttribute("height",34),v.setAttribute("fill","transparent"),v.style.cursor="pointer",u.appendChild(v),v.addEventListener("mouseenter",n=>{A(W(t,e),n)}),v.addEventListener("mousemove",g),v.addEventListener("mouseleave",x),setTimeout(()=>{h.setAttribute("width",o)},35+22*n)})}(t,e),H({container:n.scatterPrice,models:t,baselines:e,xField:"nominal_price",xLabel:"Cost multiple vs cheapest selected (log)",ariaLabel:"Score versus cost multiple scatter chart"}),H({container:n.scatterTokens,models:t,baselines:e,xField:"output_tokens",xLabel:"Output token multiple vs tersest selected (log)",ariaLabel:"Score versus output token multiple scatter chart"}),Q()}async function rt(){S(function(){try{const t=localStorage.getItem(a);return t===o||t===i?t:null}catch(t){return null}}()||(Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)?o:i),{persist:!1}),n.themeToggle&&n.themeToggle.addEventListener("click",()=>{S((document.documentElement.getAttribute("data-theme")===o?o:i)===o?i:o)}),n.modelSelector&&n.modelSelector.addEventListener("change",t=>{const e=t.target;if(!(e instanceof HTMLInputElement))return;const n=e.getAttribute("data-model-key");n&&(e.checked?b.selectedKeys.add(n):b.selectedKeys.delete(n),G(),nt())}),n.modelSearch&&n.modelSearch.addEventListener("input",()=>{b.searchTerm=n.modelSearch.value||"",et()}),n.selectAllBtn&&n.selectAllBtn.addEventListener("click",()=>{tt(b.allData)}),n.clearBtn&&n.clearBtn.addEventListener("click",()=>{tt([])}),n.top10Btn&&n.top10Btn.addEventListener("click",()=>{tt(P(b.allData).slice(0,10))}),n.topByOrgBtn&&n.topByOrgBtn.addEventListener("click",()=>{tt(function(t){const e=P(t),n=[],r=new Set;return e.forEach(t=>{const e=String(t.company||"Unknown").trim().toLowerCase();r.has(e)||(r.add(e),n.push(t))}),n}(b.allData))}),n.resultsModeButtons.forEach(t=>{t.addEventListener("click",()=>{const e=w(t.getAttribute("data-results-mode"));e!==b.resultsMode&&Z(e)})}),n.expandToggles.forEach(t=>{t.addEventListener("click",()=>{!function(t){const e=t.getAttribute("data-expand-target");if(!e)return;const r=document.getElementById(e),a=r?.closest(".chart-panel");r&&a&&(b.expandedPanel!==a?(b.expandedPanel&&J(),j()&&X(),b.expandedScrollPos={x:window.scrollX||window.pageXOffset||0,y:window.scrollY||window.pageYOffset||0},a.classList.add("panel-expanded"),document.body.classList.add("no-scroll"),b.expandedPanel=a,b.activeExpandedButton=t,n.expandToggles.forEach(e=>Y(e,e===t)),nt()):J({restoreFocus:!0}))}(t)})}),n.filterToggles.forEach(t=>{t.addEventListener("click",()=>{var e;j()&&b.activeFilterToggle===t?X({restoreFocus:!0}):(e=t,n.filterModal&&(b.activeFilterToggle=e||b.activeFilterToggle||n.filterToggles[0]||null,n.filterModal.hidden=!1,n.filterBackdrop&&(n.filterBackdrop.hidden=!1),U(!0),V(),n.modelSearch&&window.setTimeout(()=>{n.modelSearch.focus()},0)))})}),n.filterCloseBtn&&n.filterCloseBtn.addEventListener("click",()=>{X({restoreFocus:!0})}),n.filterBackdrop&&n.filterBackdrop.addEventListener("click",()=>{X({restoreFocus:!1})}),document.addEventListener("keydown",t=>{"Escape"===t.key&&(b.expandedPanel?J({restoreFocus:!0}):j()&&X({restoreFocus:!0}))}),window.addEventListener("resize",()=>{b.resizeTimer&&window.clearTimeout(b.resizeTimer),b.resizeTimer=window.setTimeout(()=>{nt(),V()},120)},{passive:!0}),window.addEventListener("scroll",()=>{j()&&V()},{passive:!0});try{const t=M(await async function(){const t=await fetch("results.json",{headers:{Accept:"application/json"},cache:"no-cache"});if(!t.ok)throw new Error(`Unable to fetch results.json (${t.status})`);return t.json()}());b.baseData=t.length?t:M(p)}catch(t){b.baseData=M(p)}Z(function(){try{return w(localStorage.getItem(r))}catch(t){return s}}(),{persist:!1})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",rt):rt()}();