!function(){const t=t=>document.querySelector(t),e=t=>[...document.querySelectorAll(t)],n={bar:t("#svgContainer"),scatterPrice:t("#scatterContainer"),scatterTokens:t("#scatterTokensContainer"),themeToggle:t("#themeToggle"),tooltip:t("#tooltip"),filterModal:t("#graphFilterModal"),filterBackdrop:t("#filterBackdrop"),filterCloseBtn:t("#closeFilterModal"),filterToggles:e("[data-open-filter]"),expandToggles:e("[data-expand-target]"),modelSelector:t("#modelSelector"),modelSearch:t("#modelSearch"),modelCount:t("#modelCount"),selectAllBtn:t("#selectAllModels"),clearBtn:t("#clearModels"),top10Btn:t("#top10Models"),topByOrgBtn:t("#topByOrgModels")},r="lateralbench:selected-models:v1",i="lateralbench:theme:v1",o="light",a="dark",s="http://www.w3.org/2000/svg",l=[{name:"Example A",company:"Example",accuracy:.7,stderr:.03,nominal_price:1.2,output_tokens:800,input_rate:.5,output_rate:1.2},{name:"Example B",company:"Example",accuracy:.55,stderr:.04,nominal_price:.4,output_tokens:450,input_rate:.2,output_rate:.6}],c=["#2d9f8a","#2c8be6","#f0a43a","#5e7ce2","#d66a56","#7b8d2f","#b06adf","#2d7a9b","#c84b73","#6a9e46"],u={openai:"#10a37f",anthropic:"#d97757",google:"#4285f4",xai:"#111111",meta:"#0668e1",moonshot:"#8b5cf6",moonshotai:"#8b5cf6",alibaba:"#ff6a00","z.ai":"#5f4bff",deepseek:"#2563eb",amazon:"#ff9900",ibm:"#0f62fe",nvidia:"#76b900",baidu:"#2932e1",meituan:"#ffd100",minimax:"#ff5a3c","arcee ai":"#d946ef",arcee:"#d946ef",liquidai:"#00a3a3",stepfun:"#6d28d9",stealth:"#6b7280",cloaked:"#6b7280",inclusionai:"#16a34a",nanbeige:"#c97b3c",other:"#8a8a8a"},d={allData:[],selectedKeys:new Set,searchTerm:"",resizeTimer:null,tooltipEl:n.tooltip,activeFilterToggle:null,activeExpandedButton:null,expandedPanel:null,expandedScrollPos:null},h=document.createElement("canvas").getContext("2d");function p(){if(d.tooltipEl||(d.tooltipEl=t("#tooltip")),!d.tooltipEl){const t=document.createElement("div");t.id="tooltip",t.className="tooltip",t.setAttribute("role","tooltip"),t.setAttribute("aria-hidden","true"),document.body.appendChild(t),d.tooltipEl=t}return d.tooltipEl}function b(t,e){const n=p();n.innerHTML=t,n.style.display="block",n.setAttribute("aria-hidden","false"),m(e)}function m(t){const e=p();t&&"number"==typeof t.clientX&&(e.style.left=`${t.clientX+12}px`,e.style.top=`${t.clientY+12}px`)}function f(){const t=p();t.style.display="none",t.setAttribute("aria-hidden","true")}function y(t,e={}){const{persist:r=!0}=e,s=t===a?a:o;if(document.documentElement.setAttribute("data-theme",s),function(t){if(!n.themeToggle)return;const e=t===a,r=e?"light":"dark";n.themeToggle.setAttribute("aria-pressed",e?"true":"false"),n.themeToggle.setAttribute("aria-label",`Switch to ${r} mode`),n.themeToggle.setAttribute("title",`Switch to ${r} mode`)}(s),r)try{localStorage.setItem(i,s)}catch(t){}}function x(t){if(null==t)return NaN;if("number"==typeof t)return t;const e=String(t).replace(/[$,]/g,"").match(/-?\d+(\.\d+)?/);return e?parseFloat(e[0]):NaN}function A(t){return(t||[]).map(t=>{const e=Object.assign({},t);return e.name=String(e.name||"Unknown"),e.company=String(e.company||"Unknown"),e.accuracy=x(e.accuracy),e.raw_accuracy=x(e.raw_accuracy),e.stderr=x(e.stderr)||0,e.nominal_price=x(e.nominal_price)||0,e.output_tokens=parseInt(x(e.output_tokens)||0,10),e.input_tokens=parseInt(x(e.input_tokens)||0,10),e.input_rate=x(e.input_rate)||0,e.output_rate=x(e.output_rate)||0,e.errors=parseInt(x(e.errors)||0,10),e})}function g(t){return`${t.company}::${t.name}`}function w(t){return String(t).replace(/[&<>"']/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"}[t]||t))}function E(t,e,n){return Math.max(e,Math.min(n,t))}function S(t){return Math.log(t)/Math.log(10)}function v(t){if(!isFinite(t)||t<=0)return"-";if(t<10){const e=Math.round(10*t)/10;return Number.isInteger(e)?`${e}x`:`${e.toFixed(1)}x`}return`${Math.round(t)}x`}function k(t){return isFinite(t)?`${(100*t).toFixed(1)}%`:"-"}function M(t){const e=String(t||"Unknown").trim().toLowerCase();if(u[e])return u[e];let n=0;for(let t=0;t<e.length;t+=1)n=(n<<5)-n+e.charCodeAt(t),n|=0;return c[Math.abs(n)%c.length]}function C(t){return h?(h.font="11px Manrope, Avenir Next, Segoe UI, sans-serif",Math.ceil(h.measureText(t).width)):6*t.length}function N(t,e,n,r,i,o,a,s=["E","NE","SE","N","S","W","NW","SW"]){const l={E:()=>({anchor:"start",tx:t+i+8,ty:e+4,rect:{x:t+i+8,y:e+4-r,w:n,h:r}}),NE:()=>({anchor:"start",tx:t+i+8,ty:e-8,rect:{x:t+i+8,y:e-8-r,w:n,h:r}}),SE:()=>({anchor:"start",tx:t+i+8,ty:e+r+2,rect:{x:t+i+8,y:e+2,w:n,h:r}}),W:()=>({anchor:"end",tx:t-i-8,ty:e+4,rect:{x:t-i-8-n,y:e+4-r,w:n,h:r}}),NW:()=>({anchor:"end",tx:t-i-8,ty:e-8,rect:{x:t-i-8-n,y:e-8-r,w:n,h:r}}),SW:()=>({anchor:"end",tx:t-i-8,ty:e+r+2,rect:{x:t-i-8-n,y:e+2,w:n,h:r}}),N:()=>({anchor:"middle",tx:t,ty:e-i-8,rect:{x:Math.round(t-n/2),y:e-i-8-r,w:n,h:r}}),S:()=>({anchor:"middle",tx:t,ty:e+i+r+2,rect:{x:Math.round(t-n/2),y:e+i+2,w:n,h:r}})},c=t=>t.x>=o.x+3&&t.y>=o.y+3&&t.x+t.w<=o.x+o.w-3&&t.y+t.h<=o.y+o.h-3;for(const t of s){const e=l[t]();if(c(e.rect)&&!a.some(t=>{return n=t,r=e.rect,!(n.x+n.w<=r.x||r.x+r.w<=n.x||n.y+n.h<=r.y||r.y+r.h<=n.y);var n,r}))return e}return null}function T(t){const e=isFinite(t.accuracy)?t.accuracy:t.raw_accuracy;return isFinite(e)?e:NaN}function $(t){const e=T(t);return isFinite(e)?e:-1/0}function L(t){return[...t].sort((t,e)=>$(e)-$(t))}function F(t,e){const n=t.map(t=>x(t[e])).filter(t=>isFinite(t)&&t>0);return n.length?Math.min(...n):1}function B(t,e){const n=k(T(t)),r=`${(100*(t.stderr||0)*1.96).toFixed(2)}%`,i=t.nominal_price>0?t.nominal_price/e.priceMin:NaN,o=t.output_tokens>0?t.output_tokens/e.tokenMin:NaN;return`\n      <strong>${w(t.name)}</strong><br/>\n      ${w(t.company)}<br/>\n      Score: <strong>${n}</strong> Â± ${r}<br/>\n      Cost multiple: <strong>${v(i)}</strong><br/>\n      Token multiple: <strong>${v(o)}</strong><br/>\n      Input rate: ${t.input_rate}/M | Output rate: ${t.output_rate}/M\n    `}function _(t,e){t&&(t.innerHTML=`<div class="empty-state">${w(e)}</div>`)}function z(t){const{container:e,models:n,baselines:r,xField:i,xLabel:o,ariaLabel:a}=t;if(!e)return;const l=n.filter(t=>{const e=T(t);return isFinite(e)&&isFinite(t[i])&&t[i]>0});if(!l.length)return void _(e,"Not enough selected models for this chart.");const c=F(l,i),u=l.map(t=>({model:t,accuracy:E(T(t),0,1),multiple:t[i]/c})),d=Math.max(1,...u.map(t=>t.multiple)),h=function(t){if(!isFinite(t)||t<=1)return[1];const e=[],n=[1,2,5],r=Math.floor(S(1)),i=Math.ceil(S(t));for(let o=r;o<=i;o+=1)for(const r of n){const n=r*Math.pow(10,o);n>=1&&n<=1.001*t&&e.push(n)}return e.length?e:[1,t]}(d),p=u.map(t=>t.accuracy);let y=Math.min(...p),x=Math.max(...p);if(isFinite(y)&&isFinite(x)||(y=0,x=1),Math.abs(x-y)<.06){const t=(y+x)/2;y=t-.03,x=t+.03}const A=Math.max(.02,.18*(x-y));if(y=E(y-A,0,1),x=E(x+A,0,1),Math.abs(x-y)<.08){const t=(y+x)/2;y=E(t-.04,0,1),x=E(t+.04,0,1)}const g=function(t,e,n=5){if(!isFinite(t)||!isFinite(e)||e<=t)return[t,e];const r=[];for(let i=0;i<=n;i+=1)r.push(t+(e-t)*i/n);return r}(y,x,5),w=28,k=70,$=e.closest(".chart-panel"),L=Boolean($&&$.classList.contains("panel-expanded")),z=L&&$?$.clientWidth-52:0,P=Math.max(360,z||e.clientWidth||800),D=Math.max(240,P-k-24);let W=Math.max(240,Math.min(D,520)),K=W;if(L){const t=1.35,e=Math.max(300,window.innerHeight-240),n=Math.max(260,D),r=e*t;r<=n?(K=e,W=r):(W=n,K=W/t),W=Math.round(Math.max(240,W)),K=Math.round(Math.max(220,K))}const I=k+W+24,O=w+K+52;function H(t){const e=S(1),n=S(d);if(!isFinite(n-e)||Math.abs(n-e)<1e-5)return k+W/2;const r=(S(E(t,1,d))-e)/(n-e);return k+r*W}function j(t){return w+(1-(E(t,y,x)-y)/(x-y||1))*K}e.innerHTML="";const U=document.createElementNS(s,"svg");U.setAttribute("viewBox",`0 0 ${I} ${O}`),U.setAttribute("width",I),U.setAttribute("height",O),U.setAttribute("role","img"),U.setAttribute("aria-label",a),L?(U.style.width=`${I}px`,U.style.maxWidth="100%",U.style.height="auto"):(U.style.width="100%",U.style.height="auto"),e.appendChild(U);const q=document.createElementNS(s,"rect");q.setAttribute("x",0),q.setAttribute("y",0),q.setAttribute("width",I),q.setAttribute("height",O),q.setAttribute("fill","transparent"),U.appendChild(q),h.forEach(t=>{const e=H(t),n=document.createElementNS(s,"line");n.setAttribute("x1",e),n.setAttribute("x2",e),n.setAttribute("y1",w),n.setAttribute("y2",w+K),n.setAttribute("stroke",1===t?"rgba(21, 47, 76, 0.24)":"rgba(21, 47, 76, 0.12)"),n.setAttribute("stroke-width",1),n.style.pointerEvents="none",U.appendChild(n);const r=document.createElementNS(s,"text");r.setAttribute("x",e),r.setAttribute("y",w+K+18),r.setAttribute("text-anchor","middle"),r.setAttribute("font-size",11),r.setAttribute("fill","rgba(25, 52, 79, 0.82)"),r.textContent=v(t),r.style.pointerEvents="none",U.appendChild(r)}),g.forEach((t,e)=>{const n=j(t),r=document.createElementNS(s,"line");r.setAttribute("x1",k),r.setAttribute("x2",k+W),r.setAttribute("y1",n),r.setAttribute("y2",n),r.setAttribute("stroke",e%2==0?"rgba(21, 47, 76, 0.22)":"rgba(21, 47, 76, 0.12)"),r.setAttribute("stroke-width",1),r.style.pointerEvents="none",U.appendChild(r);const i=document.createElementNS(s,"text");i.setAttribute("x",60),i.setAttribute("y",n+4),i.setAttribute("text-anchor","end"),i.setAttribute("font-size",11),i.setAttribute("fill","rgba(25, 52, 79, 0.84)");const o=100*t;i.textContent=Math.abs(x-y)<.25?`${o.toFixed(1)}%`:`${Math.round(o)}%`,i.style.pointerEvents="none",U.appendChild(i)});const V=document.createElementNS(s,"text");V.setAttribute("x",k+W/2),V.setAttribute("y",w+K+37),V.setAttribute("text-anchor","middle"),V.setAttribute("font-size",12),V.setAttribute("fill","rgba(24, 50, 75, 0.86)"),V.textContent=o,V.style.pointerEvents="none",U.appendChild(V);const X=document.createElementNS(s,"text");X.setAttribute("x",20),X.setAttribute("y",w+K/2),X.setAttribute("text-anchor","middle"),X.setAttribute("font-size",12),X.setAttribute("fill","rgba(24, 50, 75, 0.86)"),X.setAttribute("transform",`rotate(-90 20 ${w+K/2})`),X.textContent="Score (%)",X.style.pointerEvents="none",U.appendChild(X);const Y=u.map(t=>({...t,x:H(t.multiple),y:j(t.accuracy)}));Y.sort((t,e)=>e.accuracy-t.accuracy);const J=5.5,R={x:k,y:w,w:W,h:K},G=[];Y.forEach((t,e)=>{const n=C(t.model.name)+4;let r=N(t.x,t.y,n,14,J,R,G);r||0!==e||(r=N(t.x,t.y,n,14,J,R,[],["NE","E","N","W","SE"])||{anchor:"start",tx:t.x+J+8,ty:t.y-8,rect:{x:t.x+J+8,y:t.y-22,w:n,h:14}}),t.label=r?{anchor:r.anchor,x:r.tx,y:r.ty,alwaysVisible:!0,bold:0===e}:{anchor:"start",x:t.x+J+8,y:t.y-8,alwaysVisible:!1,bold:!1},r&&G.push(r.rect)}),Y.forEach((t,e)=>{const{model:n,accuracy:i,x:o,y:a}=t,l=document.createElementNS(s,"g");l.style.cursor="pointer";const c=document.createElementNS(s,"circle");c.setAttribute("cx",o),c.setAttribute("cy",a),c.setAttribute("r",0),c.setAttribute("fill",M(n.company)),c.setAttribute("stroke","rgba(255,255,255,0.95)"),c.setAttribute("stroke-width",1.2),c.style.transition="r 420ms cubic-bezier(.2,.9,.2,1)",l.appendChild(c);const u=document.createElementNS(s,"circle");u.setAttribute("cx",o),u.setAttribute("cy",a),u.setAttribute("r",11.5),u.setAttribute("fill","transparent"),l.appendChild(u);const d=document.createElementNS(s,"text");d.setAttribute("x",t.label.x),d.setAttribute("y",t.label.y),d.setAttribute("text-anchor",t.label.anchor),d.setAttribute("font-size",11),d.setAttribute("fill","rgba(24, 49, 73, 0.92)"),d.setAttribute("stroke","rgba(255, 255, 255, 0.86)"),d.setAttribute("stroke-width",2),d.setAttribute("paint-order","stroke"),t.label.bold&&d.setAttribute("font-weight",700),d.textContent=n.name,d.style.opacity=t.label.alwaysVisible?1:0,d.style.transition="opacity 200ms ease",d.style.pointerEvents="none",l.appendChild(d),U.appendChild(l),l.addEventListener("mouseenter",e=>{b(B(n,r),e),t.label.alwaysVisible||(d.style.opacity=1)}),l.addEventListener("mousemove",m),l.addEventListener("mouseleave",()=>{f(),t.label.alwaysVisible||(d.style.opacity=0)}),setTimeout(()=>{c.setAttribute("r",J)},45+18*e)});const Q=document.createElementNS(s,"rect");Q.setAttribute("x",k),Q.setAttribute("y",w),Q.setAttribute("width",W),Q.setAttribute("height",K),Q.setAttribute("fill","transparent"),Q.setAttribute("stroke","rgba(21, 47, 76, 0.26)"),Q.setAttribute("stroke-width",1),Q.style.pointerEvents="none",U.appendChild(Q)}function P(){return Boolean(n.filterModal&&!n.filterModal.hidden)}function D(t){n.filterToggles.forEach(e=>{e.setAttribute("aria-expanded",t?"true":"false")})}function W(){const t=`Filter models (${d.selectedKeys.size}/${d.allData.length})`;n.filterToggles.forEach(e=>{e.textContent=t,e.setAttribute("aria-label",t)})}function K(){if(!n.filterModal||!P())return;const t=d.activeFilterToggle||n.filterToggles[0];if(!t)return;const e=t.getBoundingClientRect(),r=n.filterModal,i=Math.min(460,window.innerWidth-20);r.style.width=`${Math.max(280,i)}px`;const o=r.offsetHeight||0,a=e.bottom+10,s=Math.min(a,window.innerHeight-o-10),l=E(e.right-r.offsetWidth,10,window.innerWidth-r.offsetWidth-10);r.style.left=`${l}px`,r.style.top=`${Math.max(10,s)}px`}function I(t={}){const{restoreFocus:e=!1}=t;n.filterModal&&(n.filterModal.hidden=!0,n.filterBackdrop&&(n.filterBackdrop.hidden=!0),D(!1),e&&d.activeFilterToggle&&d.activeFilterToggle.focus())}function O(t,e){if(!t)return;t.setAttribute("aria-expanded",e?"true":"false");const n=e?"Collapse":"Expand";t.setAttribute("aria-label",`${n} chart`),t.setAttribute("title",`${n} chart`)}function H(t={}){const{restoreFocus:e=!1}=t;if(!d.expandedPanel)return;const r=e?d.activeExpandedButton:null,i=d.expandedScrollPos?{x:d.expandedScrollPos.x,y:d.expandedScrollPos.y}:null;d.expandedPanel.classList.remove("panel-expanded"),d.expandedPanel=null,document.body.classList.remove("no-scroll"),n.expandToggles.forEach(t=>O(t,!1)),d.activeExpandedButton=null,d.expandedScrollPos=null,Y(),r&&function(t){if(t&&"function"==typeof t.focus)try{t.focus({preventScroll:!0})}catch(e){t.focus()}}(r),i&&window.requestAnimationFrame(()=>{window.scrollTo(i.x,i.y)})}function j(){try{localStorage.setItem(r,JSON.stringify([...d.selectedKeys]))}catch(t){}}function U(){const t=L(d.allData).slice(0,10);return new Set(t.map(t=>g(t)))}function q(){if(!n.modelCount)return void W();const t=d.selectedKeys.size,e=d.allData.length;n.modelCount.textContent=`${t} of ${e} selected`,W()}function V(t){d.selectedKeys=new Set(t.map(t=>g(t))),j(),X(),Y()}function X(){if(!n.modelSelector)return;const t=function(){const t=d.searchTerm.trim().toLowerCase(),e=L(d.allData);return t?e.filter(e=>`${e.name} ${e.company}`.toLowerCase().includes(t)):e}();if(!t.length)return n.modelSelector.innerHTML='<div class="model-selector-empty">No models match this search.</div>',void q();const e=t.map(t=>{const e=g(t),n=d.selectedKeys.has(e)?"checked":"",r=M(t.company),i=k(T(t));return`\n          <label class="model-chip" data-key="${w(e)}">\n            <input type="checkbox" data-model-key="${w(e)}" ${n} />\n            <span class="chip-body">\n              <span class="chip-swatch" style="background:${r}"></span>\n              <span class="chip-name">${w(t.name)}</span>\n              <span class="chip-score">${i}</span>\n            </span>\n          </label>\n        `}).join("");n.modelSelector.innerHTML=e,q()}function Y(){const t=d.allData.filter(t=>d.selectedKeys.has(g(t))),e={priceMin:F(t.length?t:d.allData,"nominal_price"),tokenMin:F(t.length?t:d.allData,"output_tokens")};!function(t,e){const r=n.bar;if(!r)return;if(!t.length)return void _(r,"No models selected. Choose at least one model to render the leaderboard.");const i=L(t),o={top:20,right:20,bottom:20,left:E(i.reduce((t,e)=>Math.max(t,C(e.name)),120)+86,190,360)},a=Math.max(640,r.clientWidth||980),l=Math.max(260,a-o.left-o.right),c=o.left+l+o.right,u=o.top+o.bottom+46*i.length;r.innerHTML="";const d=document.createElementNS(s,"svg");d.setAttribute("viewBox",`0 0 ${c} ${u}`),d.setAttribute("width","100%"),d.setAttribute("height",u),d.setAttribute("role","img"),d.setAttribute("aria-label","Leaderboard bar chart"),r.appendChild(d);const h=document.createElementNS(s,"rect");h.setAttribute("x",0),h.setAttribute("y",0),h.setAttribute("width",c),h.setAttribute("height",u),h.setAttribute("fill","transparent"),h.style.pointerEvents="none",d.appendChild(h);for(let t=0;t<=100;t+=10){const e=o.left+t/100*l,n=document.createElementNS(s,"line");n.setAttribute("x1",e),n.setAttribute("x2",e),n.setAttribute("y1",o.top/2),n.setAttribute("y2",u-o.bottom/2),n.setAttribute("stroke",t%20==0?"rgba(21, 47, 76, 0.2)":"rgba(21, 47, 76, 0.12)"),n.setAttribute("stroke-width",1),d.appendChild(n);const r=document.createElementNS(s,"text");r.setAttribute("x",e),r.setAttribute("y",o.top-6),r.setAttribute("text-anchor","middle"),r.setAttribute("font-size",11),r.setAttribute("fill","rgba(28, 56, 84, 0.8)"),r.textContent=`${t}%`,d.appendChild(r)}i.forEach((t,n)=>{const r=o.top+46*n,i=E(T(t),0,1),a=Math.max(3,i*l),c=document.createElementNS(s,"text");c.setAttribute("x",12),c.setAttribute("y",r+17-2),c.setAttribute("font-size",12.5),c.setAttribute("font-weight",700),c.setAttribute("fill","#19344e"),c.textContent=t.name,d.appendChild(c);const u=document.createElementNS(s,"text");if(u.setAttribute("x",12),u.setAttribute("y",r+17+13),u.setAttribute("font-size",10.5),u.setAttribute("fill","rgba(25, 52, 79, 0.72)"),u.textContent=t.company,d.appendChild(u),isFinite(t.raw_accuracy)&&t.raw_accuracy!==t.accuracy){const e=document.createElementNS(s,"text");e.setAttribute("x",o.left+l-4),e.setAttribute("y",r+17+12),e.setAttribute("text-anchor","end"),e.setAttribute("font-size",10.5),e.setAttribute("fill","rgba(25, 52, 79, 0.62)"),e.textContent=`raw ${k(t.raw_accuracy)} | errors ${t.errors||0}`,d.appendChild(e)}const h=document.createElementNS(s,"rect");h.setAttribute("x",o.left),h.setAttribute("y",r+3),h.setAttribute("width",l),h.setAttribute("height",28),h.setAttribute("rx",9),h.setAttribute("ry",9),h.setAttribute("fill","rgba(23, 56, 88, 0.12)"),d.appendChild(h);const p=document.createElementNS(s,"rect");p.setAttribute("x",o.left),p.setAttribute("y",r+3),p.setAttribute("width",0),p.setAttribute("height",28),p.setAttribute("rx",9),p.setAttribute("ry",9),p.setAttribute("fill",M(t.company)),p.style.transition="width 620ms cubic-bezier(.2,.9,.2,1)",d.appendChild(p);const y=document.createElementNS(s,"text");y.setAttribute("x",o.left+a+10),y.setAttribute("y",r+17+5),y.setAttribute("font-size",12),y.setAttribute("font-weight",700),y.setAttribute("fill","#173552"),y.textContent=k(i),d.appendChild(y);const x=1.96*(t.stderr||0),A=E(i-x,0,1),g=E(i+x,0,1),w=o.left+A*l,S=o.left+g*l,v=document.createElementNS(s,"line");v.setAttribute("x1",w),v.setAttribute("x2",S),v.setAttribute("y1",r+17+2),v.setAttribute("y2",r+17+2),v.setAttribute("stroke","rgba(20, 45, 73, 0.78)"),v.setAttribute("stroke-width",1.2),d.appendChild(v);const C=document.createElementNS(s,"line");C.setAttribute("x1",w),C.setAttribute("x2",w),C.setAttribute("y1",r+8),C.setAttribute("y2",r+34-8),C.setAttribute("stroke","rgba(20, 45, 73, 0.78)"),C.setAttribute("stroke-width",1.2),d.appendChild(C);const N=document.createElementNS(s,"line");N.setAttribute("x1",S),N.setAttribute("x2",S),N.setAttribute("y1",r+8),N.setAttribute("y2",r+34-8),N.setAttribute("stroke","rgba(20, 45, 73, 0.78)"),N.setAttribute("stroke-width",1.2),d.appendChild(N);const $=document.createElementNS(s,"rect");$.setAttribute("x",o.left-6),$.setAttribute("y",r),$.setAttribute("width",l+12),$.setAttribute("height",34),$.setAttribute("fill","transparent"),$.style.cursor="pointer",d.appendChild($),$.addEventListener("mouseenter",n=>{b(B(t,e),n)}),$.addEventListener("mousemove",m),$.addEventListener("mouseleave",f),setTimeout(()=>{p.setAttribute("width",a)},35+22*n)})}(t,e),z({container:n.scatterPrice,models:t,baselines:e,xField:"nominal_price",xLabel:"Cost multiple vs cheapest selected (log)",ariaLabel:"Score versus cost multiple scatter chart"}),z({container:n.scatterTokens,models:t,baselines:e,xField:"output_tokens",xLabel:"Output token multiple vs tersest selected (log)",ariaLabel:"Score versus output token multiple scatter chart"}),q()}async function J(){y(function(){try{const t=localStorage.getItem(i);return t===a||t===o?t:null}catch(t){return null}}()||(Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)?a:o),{persist:!1}),n.themeToggle&&n.themeToggle.addEventListener("click",()=>{y((document.documentElement.getAttribute("data-theme")===a?a:o)===a?o:a)}),n.modelSelector&&n.modelSelector.addEventListener("change",t=>{const e=t.target;if(!(e instanceof HTMLInputElement))return;const n=e.getAttribute("data-model-key");n&&(e.checked?d.selectedKeys.add(n):d.selectedKeys.delete(n),j(),Y())}),n.modelSearch&&n.modelSearch.addEventListener("input",()=>{d.searchTerm=n.modelSearch.value||"",X()}),n.selectAllBtn&&n.selectAllBtn.addEventListener("click",()=>{V(d.allData)}),n.clearBtn&&n.clearBtn.addEventListener("click",()=>{V([])}),n.top10Btn&&n.top10Btn.addEventListener("click",()=>{V(L(d.allData).slice(0,10))}),n.topByOrgBtn&&n.topByOrgBtn.addEventListener("click",()=>{V(function(t){const e=L(t),n=[],r=new Set;return e.forEach(t=>{const e=String(t.company||"Unknown").trim().toLowerCase();r.has(e)||(r.add(e),n.push(t))}),n}(d.allData))}),n.expandToggles.forEach(t=>{t.addEventListener("click",()=>{!function(t){const e=t.getAttribute("data-expand-target");if(!e)return;const r=document.getElementById(e),i=r?.closest(".chart-panel");r&&i&&(d.expandedPanel!==i?(d.expandedPanel&&H(),P()&&I(),d.expandedScrollPos={x:window.scrollX||window.pageXOffset||0,y:window.scrollY||window.pageYOffset||0},i.classList.add("panel-expanded"),document.body.classList.add("no-scroll"),d.expandedPanel=i,d.activeExpandedButton=t,n.expandToggles.forEach(e=>O(e,e===t)),Y()):H({restoreFocus:!0}))}(t)})}),n.filterToggles.forEach(t=>{t.addEventListener("click",()=>{var e;P()&&d.activeFilterToggle===t?I({restoreFocus:!0}):(e=t,n.filterModal&&(d.activeFilterToggle=e||d.activeFilterToggle||n.filterToggles[0]||null,n.filterModal.hidden=!1,n.filterBackdrop&&(n.filterBackdrop.hidden=!1),D(!0),K(),n.modelSearch&&window.setTimeout(()=>{n.modelSearch.focus()},0)))})}),n.filterCloseBtn&&n.filterCloseBtn.addEventListener("click",()=>{I({restoreFocus:!0})}),n.filterBackdrop&&n.filterBackdrop.addEventListener("click",()=>{I({restoreFocus:!1})}),document.addEventListener("keydown",t=>{"Escape"===t.key&&(d.expandedPanel?H({restoreFocus:!0}):P()&&I({restoreFocus:!0}))}),window.addEventListener("resize",()=>{d.resizeTimer&&window.clearTimeout(d.resizeTimer),d.resizeTimer=window.setTimeout(()=>{Y(),K()},120)},{passive:!0}),window.addEventListener("scroll",()=>{P()&&K()},{passive:!0});try{const t=function(t){const e=new Map;return t.forEach(t=>{const n=g(t);if(!e.has(n))return void e.set(n,t);const r=e.get(n);(t.accuracy||0)>(r.accuracy||0)&&e.set(n,t)}),[...e.values()]}(A(await async function(){const t=await fetch("results.json",{headers:{Accept:"application/json"},cache:"no-cache"});if(!t.ok)throw new Error(`Unable to fetch results.json (${t.status})`);return t.json()}()));d.allData=t.length?t:A(l)}catch(t){d.allData=A(l)}!function(){const t=new Set(d.allData.map(t=>g(t)));try{const e=localStorage.getItem(r);if(null===e)return void(d.selectedKeys=U());const n=JSON.parse(e);if(!Array.isArray(n))return void(d.selectedKeys=U());const i=n.filter(e=>t.has(e));if(n.length>0&&0===i.length)return void(d.selectedKeys=U());d.selectedKeys=new Set(i)}catch(t){d.selectedKeys=U()}}(),X(),Y()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",J):J()}();