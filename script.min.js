!function(){const t=t=>document.querySelector(t),e=t=>[...document.querySelectorAll(t)],n={bar:t("#svgContainer"),scatterPrice:t("#scatterContainer"),scatterTokens:t("#scatterTokensContainer"),themeToggle:t("#themeToggle"),resultsModeButtons:e("[data-results-mode]"),tooltip:t("#tooltip"),filterModal:t("#graphFilterModal"),filterBackdrop:t("#filterBackdrop"),filterCloseBtn:t("#closeFilterModal"),filterToggles:e("[data-open-filter]"),expandToggles:e("[data-expand-target]"),modelSelector:t("#modelSelector"),modelSearch:t("#modelSearch"),modelCount:t("#modelCount"),selectAllBtn:t("#selectAllModels"),clearBtn:t("#clearModels"),top10Btn:t("#top10Models"),topByOrgBtn:t("#topByOrgModels")},r="lateralbench:results-mode:v1",i="lateralbench:theme:v1",a="light",o="dark",s="core",c="hard",l="combined",u=[s,c,l],d="http://www.w3.org/2000/svg",p=[{name:"Example A",company:"Example",accuracy:.7,stderr:.03,nominal_price:1.2,output_tokens:800,input_rate:.5,output_rate:1.2},{name:"Example B",company:"Example",accuracy:.55,stderr:.04,nominal_price:.4,output_tokens:450,input_rate:.2,output_rate:.6}],h=["#2d9f8a","#2c8be6","#f0a43a","#5e7ce2","#d66a56","#7b8d2f","#b06adf","#2d7a9b","#c84b73","#6a9e46"],m={openai:"#10a37f",anthropic:"#d97757",google:"#4285f4",xai:"#111111",meta:"#0668e1",moonshot:"#8b5cf6",moonshotai:"#8b5cf6",alibaba:"#ff6a00","z.ai":"#5f4bff",deepseek:"#2563eb",amazon:"#ff9900",ibm:"#0f62fe",nvidia:"#76b900",baidu:"#2932e1",meituan:"#ffd100",minimax:"#ff5a3c","arcee ai":"#d946ef",arcee:"#d946ef",liquidai:"#00a3a3",stepfun:"#6d28d9",stealth:"#6b7280",cloaked:"#6b7280",inclusionai:"#16a34a",nanbeige:"#c97b3c",other:"#8a8a8a"},b={baseData:[],allData:[],resultsMode:s,selectedKeys:new Set,searchTerm:"",resizeTimer:null,tooltipEl:n.tooltip,activeFilterToggle:null,activeExpandedButton:null,expandedPanel:null,expandedScrollPos:null},f=document.createElement("canvas").getContext("2d");function y(){if(b.tooltipEl||(b.tooltipEl=t("#tooltip")),!b.tooltipEl){const t=document.createElement("div");t.id="tooltip",t.className="tooltip",t.setAttribute("role","tooltip"),t.setAttribute("aria-hidden","true"),document.body.appendChild(t),b.tooltipEl=t}return b.tooltipEl}function A(t,e){const n=y();n.innerHTML=t,n.style.display="block",n.setAttribute("aria-hidden","false"),g(e)}function g(t){const e=y();t&&"number"==typeof t.clientX&&(e.style.left=`${t.clientX+12}px`,e.style.top=`${t.clientY+12}px`)}function x(){const t=y();t.style.display="none",t.setAttribute("aria-hidden","true")}function w(t){return u.includes(t)?t:s}function E(t=b.resultsMode){return`lateralbench:selected-models:v2:${w(t)}`}function S(t,e={}){const{persist:r=!0}=e,s=t===o?o:a;if(document.documentElement.setAttribute("data-theme",s),function(t){if(!n.themeToggle)return;const e=t===o,r=e?"light":"dark";n.themeToggle.setAttribute("aria-pressed",e?"true":"false"),n.themeToggle.setAttribute("aria-label",`Switch to ${r} mode`),n.themeToggle.setAttribute("title",`Switch to ${r} mode`)}(s),r)try{localStorage.setItem(i,s)}catch(t){}}function k(t){if(null==t)return NaN;if("number"==typeof t)return t;const e=String(t).replace(/[$,]/g,"").match(/-?\d+(\.\d+)?/);return e?parseFloat(e[0]):NaN}function _(t){return(t||[]).map(t=>{const e=Object.assign({},t);return e.name=String(e.name||"Unknown"),e.company=String(e.company||"Unknown"),e.accuracy=k(e.accuracy),e.raw_accuracy=k(e.raw_accuracy),e.stderr=k(e.stderr)||0,e.nominal_price=k(e.nominal_price)||0,e.output_tokens=parseInt(k(e.output_tokens)||0,10),e.input_tokens=parseInt(k(e.input_tokens)||0,10),e.input_rate=k(e.input_rate)||0,e.output_rate=k(e.output_rate)||0,e.errors=parseInt(k(e.errors)||0,10),e.hard_accuracy=k(e.hard_accuracy),e.hard_stderr=k(e.hard_stderr),e.hard_output_tokens=k(e.hard_output_tokens),e.hard_input_tokens=k(e.hard_input_tokens),e.hard_nominal_price=k(e.hard_nominal_price),e})}function M(t){return`${t.company}::${t.name}`}function v(t){return String(t).replace(/[&<>"']/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"}[t]||t))}function C(t,e,n){return Math.max(e,Math.min(n,t))}function N(t){return Math.log(t)/Math.log(10)}function T(t){if(!isFinite(t)||t<=0)return"-";if(t<10){const e=Math.round(10*t)/10;return Number.isInteger(e)?`${e}x`:`${e.toFixed(1)}x`}return`${Math.round(t)}x`}function $(t){return isFinite(t)?`${(100*t).toFixed(1)}%`:"-"}function F(t){const e=String(t||"Unknown").trim().toLowerCase();if(m[e])return m[e];let n=0;for(let t=0;t<e.length;t+=1)n=(n<<5)-n+e.charCodeAt(t),n|=0;return h[Math.abs(n)%h.length]}function L(t){return f?(f.font="11px Manrope, Avenir Next, Segoe UI, sans-serif",Math.ceil(f.measureText(t).width)):6*t.length}function B(t,e,n,r,i,a,o,s=["E","NE","SE","N","S","W","NW","SW"]){const c={E:()=>({anchor:"start",tx:t+i+8,ty:e+4,rect:{x:t+i+8,y:e+4-r,w:n,h:r}}),NE:()=>({anchor:"start",tx:t+i+8,ty:e-8,rect:{x:t+i+8,y:e-8-r,w:n,h:r}}),SE:()=>({anchor:"start",tx:t+i+8,ty:e+r+2,rect:{x:t+i+8,y:e+2,w:n,h:r}}),W:()=>({anchor:"end",tx:t-i-8,ty:e+4,rect:{x:t-i-8-n,y:e+4-r,w:n,h:r}}),NW:()=>({anchor:"end",tx:t-i-8,ty:e-8,rect:{x:t-i-8-n,y:e-8-r,w:n,h:r}}),SW:()=>({anchor:"end",tx:t-i-8,ty:e+r+2,rect:{x:t-i-8-n,y:e+2,w:n,h:r}}),N:()=>({anchor:"middle",tx:t,ty:e-i-8,rect:{x:Math.round(t-n/2),y:e-i-8-r,w:n,h:r}}),S:()=>({anchor:"middle",tx:t,ty:e+i+r+2,rect:{x:Math.round(t-n/2),y:e+i+2,w:n,h:r}})},l=t=>t.x>=a.x+3&&t.y>=a.y+3&&t.x+t.w<=a.x+a.w-3&&t.y+t.h<=a.y+a.h-3;for(const t of s){const e=c[t]();if(l(e.rect)&&!o.some(t=>{return n=t,r=e.rect,!(n.x+n.w<=r.x||r.x+r.w<=n.x||n.y+n.h<=r.y||r.y+r.h<=n.y);var n,r}))return e}return null}function I(t){const e=isFinite(t.accuracy)?t.accuracy:t.raw_accuracy;return isFinite(e)?e:NaN}function z(t){const e=I(t);return isFinite(e)?e:-1/0}function D(t){return[...t].sort((t,e)=>z(e)-z(t))}function P(t,e){const n=t.map(t=>k(t[e])).filter(t=>isFinite(t)&&t>0);return n.length?Math.min(...n):1}function O(t,e){const n=$(I(t)),r=`${(100*(t.stderr||0)*1.96).toFixed(2)}%`,i=t.nominal_price>0?t.nominal_price/e.priceMin:NaN,a=t.output_tokens>0?t.output_tokens/e.tokenMin:NaN;return`\n      <strong>${v(t.name)}</strong><br/>\n      ${v(t.company)}<br/>\n      Score: <strong>${n}</strong> Â± ${r}<br/>\n      Cost multiple: <strong>${T(i)}</strong><br/>\n      Token multiple: <strong>${T(a)}</strong><br/>\n      Input rate: ${t.input_rate}/M | Output rate: ${t.output_rate}/M\n    `}function W(t,e){t&&(t.innerHTML=`<div class="empty-state">${v(e)}</div>`)}function K(t){const{container:e,models:n,baselines:r,xField:i,xLabel:a,ariaLabel:o}=t;if(!e)return;const s=n.filter(t=>{const e=I(t);return isFinite(e)&&isFinite(t[i])&&t[i]>0});if(!s.length)return void W(e,"Not enough selected models for this chart.");const c=P(s,i),l=s.map(t=>({model:t,accuracy:C(I(t),0,1),multiple:t[i]/c})),u=Math.max(1,...l.map(t=>t.multiple)),p=function(t){if(!isFinite(t)||t<=1)return[1];const e=[],n=[1,2,5],r=Math.floor(N(1)),i=Math.ceil(N(t));for(let a=r;a<=i;a+=1)for(const r of n){const n=r*Math.pow(10,a);n>=1&&n<=1.001*t&&e.push(n)}return e.length?e:[1,t]}(u),h=l.map(t=>t.accuracy);let m=Math.min(...h),b=Math.max(...h);if(isFinite(m)&&isFinite(b)||(m=0,b=1),Math.abs(b-m)<.06){const t=(m+b)/2;m=t-.03,b=t+.03}const f=Math.max(.02,.18*(b-m));if(m=C(m-f,0,1),b=C(b+f,0,1),Math.abs(b-m)<.08){const t=(m+b)/2;m=C(t-.04,0,1),b=C(t+.04,0,1)}const y=function(t,e,n=5){if(!isFinite(t)||!isFinite(e)||e<=t)return[t,e];const r=[];for(let i=0;i<=n;i+=1)r.push(t+(e-t)*i/n);return r}(m,b,5),w=28,E=70,S=e.closest(".chart-panel"),k=Boolean(S&&S.classList.contains("panel-expanded")),_=k&&S?S.clientWidth-52:0,M=Math.max(360,_||e.clientWidth||800),v=Math.max(240,M-E-24);let $=Math.max(240,Math.min(v,520)),z=$;if(k){const t=1.35,e=Math.max(300,window.innerHeight-240),n=Math.max(260,v),r=e*t;r<=n?(z=e,$=r):($=n,z=$/t),$=Math.round(Math.max(240,$)),z=Math.round(Math.max(220,z))}const D=E+$+24,K=w+z+52;function H(t){const e=N(1),n=N(u);if(!isFinite(n-e)||Math.abs(n-e)<1e-5)return E+$/2;const r=(N(C(t,1,u))-e)/(n-e);return E+r*$}function j(t){return w+(1-(C(t,m,b)-m)/(b-m||1))*z}e.innerHTML="";const V=document.createElementNS(d,"svg");V.setAttribute("viewBox",`0 0 ${D} ${K}`),V.setAttribute("width",D),V.setAttribute("height",K),V.setAttribute("role","img"),V.setAttribute("aria-label",o),k?(V.style.width=`${D}px`,V.style.maxWidth="100%",V.style.height="auto"):(V.style.width="100%",V.style.height="auto"),e.appendChild(V);const U=document.createElementNS(d,"rect");U.setAttribute("x",0),U.setAttribute("y",0),U.setAttribute("width",D),U.setAttribute("height",K),U.setAttribute("fill","transparent"),V.appendChild(U);const q="dark"===document.documentElement.getAttribute("data-theme"),Y=`betterCorner-${String(e.id||i||"scatter").replace(/[^a-zA-Z0-9_-]/g,"")}`,X=document.createElementNS(d,"defs"),J=document.createElementNS(d,"radialGradient");J.setAttribute("id",Y),J.setAttribute("cx","0%"),J.setAttribute("cy","0%"),J.setAttribute("fx","0%"),J.setAttribute("fy","0%"),J.setAttribute("r","120%");const G=document.createElementNS(d,"stop");G.setAttribute("offset","0%"),G.setAttribute("stop-color",q?"#5adab1":"#4cbf96"),G.setAttribute("stop-opacity",q?"0.24":"0.2"),J.appendChild(G);const R=document.createElementNS(d,"stop");R.setAttribute("offset","38%"),R.setAttribute("stop-color",q?"#49b997":"#74d3b3"),R.setAttribute("stop-opacity",q?"0.1":"0.08"),J.appendChild(R);const Z=document.createElementNS(d,"stop");Z.setAttribute("offset","100%"),Z.setAttribute("stop-color",q?"#0b1422":"#ffffff"),Z.setAttribute("stop-opacity","0"),J.appendChild(Z),X.appendChild(J),V.appendChild(X);const Q=document.createElementNS(d,"rect");Q.setAttribute("x",E),Q.setAttribute("y",w),Q.setAttribute("width",$),Q.setAttribute("height",z),Q.setAttribute("fill",`url(#${Y})`),Q.style.pointerEvents="none",V.appendChild(Q),p.forEach(t=>{const e=H(t),n=document.createElementNS(d,"text");n.setAttribute("x",e),n.setAttribute("y",w+z+18),n.setAttribute("text-anchor","middle"),n.setAttribute("font-size",11),n.setAttribute("fill","rgba(25, 52, 79, 0.82)"),n.textContent=T(t),n.style.pointerEvents="none",V.appendChild(n)}),y.forEach(t=>{const e=j(t),n=document.createElementNS(d,"text");n.setAttribute("x",60),n.setAttribute("y",e+4),n.setAttribute("text-anchor","end"),n.setAttribute("font-size",11),n.setAttribute("fill","rgba(25, 52, 79, 0.84)");const r=100*t;n.textContent=Math.abs(b-m)<.25?`${r.toFixed(1)}%`:`${Math.round(r)}%`,n.style.pointerEvents="none",V.appendChild(n)});const tt=document.createElementNS(d,"text");tt.setAttribute("x",E+$/2),tt.setAttribute("y",w+z+37),tt.setAttribute("text-anchor","middle"),tt.setAttribute("font-size",12),tt.setAttribute("fill","rgba(24, 50, 75, 0.86)"),tt.textContent=a,tt.style.pointerEvents="none",V.appendChild(tt);const et=document.createElementNS(d,"text");et.setAttribute("x",20),et.setAttribute("y",w+z/2),et.setAttribute("text-anchor","middle"),et.setAttribute("font-size",12),et.setAttribute("fill","rgba(24, 50, 75, 0.86)"),et.setAttribute("transform",`rotate(-90 20 ${w+z/2})`),et.textContent="Score (%)",et.style.pointerEvents="none",V.appendChild(et);const nt=l.map(t=>({...t,x:H(t.multiple),y:j(t.accuracy)}));nt.sort((t,e)=>e.accuracy-t.accuracy);const rt=5.5,it={x:E,y:w,w:$,h:z},at=[];nt.forEach((t,e)=>{const n=L(t.model.name)+4;let r=B(t.x,t.y,n,14,rt,it,at);r||0!==e||(r=B(t.x,t.y,n,14,rt,it,[],["NE","E","N","W","SE"])||{anchor:"start",tx:t.x+rt+8,ty:t.y-8,rect:{x:t.x+rt+8,y:t.y-22,w:n,h:14}}),t.label=r?{anchor:r.anchor,x:r.tx,y:r.ty,alwaysVisible:!0,bold:0===e}:{anchor:"start",x:t.x+rt+8,y:t.y-8,alwaysVisible:!1,bold:!1},r&&at.push(r.rect)}),nt.forEach((t,e)=>{const{model:n,accuracy:i,x:a,y:o}=t,s=document.createElementNS(d,"g");s.style.cursor="pointer";const c=document.createElementNS(d,"circle");c.setAttribute("cx",a),c.setAttribute("cy",o),c.setAttribute("r",0),c.setAttribute("fill",F(n.company)),c.setAttribute("stroke","rgba(255,255,255,0.95)"),c.setAttribute("stroke-width",1.2),c.style.transition="r 420ms cubic-bezier(.2,.9,.2,1)",s.appendChild(c);const l=document.createElementNS(d,"circle");l.setAttribute("cx",a),l.setAttribute("cy",o),l.setAttribute("r",11.5),l.setAttribute("fill","transparent"),s.appendChild(l);const u=document.createElementNS(d,"text");u.setAttribute("x",t.label.x),u.setAttribute("y",t.label.y),u.setAttribute("text-anchor",t.label.anchor),u.setAttribute("font-size",11),u.setAttribute("fill","rgba(24, 49, 73, 0.92)"),u.setAttribute("stroke","rgba(255, 255, 255, 0.86)"),u.setAttribute("stroke-width",2),u.setAttribute("paint-order","stroke"),t.label.bold&&u.setAttribute("font-weight",700),u.textContent=n.name,u.style.opacity=t.label.alwaysVisible?1:0,u.style.transition="opacity 200ms ease",u.style.pointerEvents="none",s.appendChild(u),V.appendChild(s),s.addEventListener("mouseenter",e=>{A(O(n,r),e),t.label.alwaysVisible||(u.style.opacity=1)}),s.addEventListener("mousemove",g),s.addEventListener("mouseleave",()=>{x(),t.label.alwaysVisible||(u.style.opacity=0)}),setTimeout(()=>{c.setAttribute("r",rt)},45+18*e)});const ot=document.createElementNS(d,"rect");ot.setAttribute("x",E),ot.setAttribute("y",w),ot.setAttribute("width",$),ot.setAttribute("height",z),ot.setAttribute("fill","transparent"),ot.setAttribute("stroke","rgba(21, 47, 76, 0.26)"),ot.setAttribute("stroke-width",1),ot.style.pointerEvents="none",V.appendChild(ot)}function H(){return Boolean(n.filterModal&&!n.filterModal.hidden)}function j(t){n.filterToggles.forEach(e=>{e.setAttribute("aria-expanded",t?"true":"false")})}function V(){const t=`Filter models (${b.selectedKeys.size}/${b.allData.length})`;n.filterToggles.forEach(e=>{e.textContent=t,e.setAttribute("aria-label",t)})}function U(){if(!n.filterModal||!H())return;const t=b.activeFilterToggle||n.filterToggles[0];if(!t)return;const e=t.getBoundingClientRect(),r=n.filterModal,i=Math.min(460,window.innerWidth-20);r.style.width=`${Math.max(280,i)}px`;const a=r.offsetHeight||0,o=e.bottom+10,s=Math.min(o,window.innerHeight-a-10),c=C(e.right-r.offsetWidth,10,window.innerWidth-r.offsetWidth-10);r.style.left=`${c}px`,r.style.top=`${Math.max(10,s)}px`}function q(t={}){const{restoreFocus:e=!1}=t;n.filterModal&&(n.filterModal.hidden=!0,n.filterBackdrop&&(n.filterBackdrop.hidden=!0),j(!1),e&&b.activeFilterToggle&&b.activeFilterToggle.focus())}function Y(t,e){if(!t)return;t.setAttribute("aria-expanded",e?"true":"false");const n=e?"Collapse":"Expand";t.setAttribute("aria-label",`${n} chart`),t.setAttribute("title",`${n} chart`)}function X(t={}){const{restoreFocus:e=!1}=t;if(!b.expandedPanel)return;const r=e?b.activeExpandedButton:null,i=b.expandedScrollPos?{x:b.expandedScrollPos.x,y:b.expandedScrollPos.y}:null;b.expandedPanel.classList.remove("panel-expanded"),b.expandedPanel=null,document.body.classList.remove("no-scroll"),n.expandToggles.forEach(t=>Y(t,!1)),b.activeExpandedButton=null,b.expandedScrollPos=null,et(),r&&function(t){if(t&&"function"==typeof t.focus)try{t.focus({preventScroll:!0})}catch(e){t.focus()}}(r),i&&window.requestAnimationFrame(()=>{window.scrollTo(i.x,i.y)})}function J(){try{localStorage.setItem(E(),JSON.stringify([...b.selectedKeys]))}catch(t){}}function G(){const t=D(b.allData).slice(0,10);return new Set(t.map(t=>M(t)))}function R(t,e={}){const{persist:i=!0}=e;b.resultsMode=w(t),n.resultsModeButtons.forEach(t=>{const e=w(t.getAttribute("data-results-mode"))===b.resultsMode;t.setAttribute("aria-pressed",e?"true":"false")}),b.allData=function(t,e){return function(t){const e=new Map;return t.forEach(t=>{const n=M(t);if(!e.has(n))return void e.set(n,t);const r=e.get(n);z(t)>z(r)&&e.set(n,t)}),[...e.values()]}((t||[]).map(t=>function(t,e){if(e===s)return Object.assign({},t);if(!function(t){return isFinite(t.hard_accuracy)&&isFinite(t.hard_stderr)&&isFinite(t.hard_output_tokens)&&isFinite(t.hard_nominal_price)}(t))return null;if(e===c)return Object.assign({},t,{accuracy:t.hard_accuracy,raw_accuracy:NaN,stderr:t.hard_stderr,output_tokens:parseInt(t.hard_output_tokens||0,10),input_tokens:parseInt(t.hard_input_tokens||0,10),nominal_price:t.hard_nominal_price,errors:0});if(e===l){if(!isFinite(t.accuracy))return null;const e=Math.min(isFinite(t.stderr)?t.stderr:Number.POSITIVE_INFINITY,isFinite(t.hard_stderr)?t.hard_stderr:Number.POSITIVE_INFINITY);return Object.assign({},t,{accuracy:.33*t.accuracy+.66*t.hard_accuracy,raw_accuracy:NaN,stderr:isFinite(e)?e:0,output_tokens:parseInt((t.output_tokens||0)+(t.hard_output_tokens||0),10),input_tokens:parseInt((t.input_tokens||0)+(t.hard_input_tokens||0),10),nominal_price:(t.nominal_price||0)+(t.hard_nominal_price||0),errors:0})}return null}(t,e)).filter(t=>Boolean(t)))}(b.baseData,b.resultsMode),b.searchTerm="",n.modelSearch&&(n.modelSearch.value=""),function(){const t=new Set(b.allData.map(t=>M(t)));try{let e=localStorage.getItem(E());if(null===e&&b.resultsMode===s&&(e=localStorage.getItem("lateralbench:selected-models:v1")),null===e)return void(b.selectedKeys=G());const n=JSON.parse(e);if(!Array.isArray(n))return void(b.selectedKeys=G());const r=n.filter(e=>t.has(e));if(n.length>0&&0===r.length)return void(b.selectedKeys=G());b.selectedKeys=new Set(r)}catch(t){b.selectedKeys=G()}}(),i&&function(){try{localStorage.setItem(r,b.resultsMode)}catch(t){}}(),tt(),et()}function Z(){if(!n.modelCount)return void V();const t=b.selectedKeys.size,e=b.allData.length;n.modelCount.textContent=`${t} of ${e} selected`,V()}function Q(t){b.selectedKeys=new Set(t.map(t=>M(t))),J(),tt(),et()}function tt(){if(!n.modelSelector)return;const t=function(){const t=b.searchTerm.trim().toLowerCase(),e=D(b.allData);return t?e.filter(e=>`${e.name} ${e.company}`.toLowerCase().includes(t)):e}();if(!t.length)return n.modelSelector.innerHTML='<div class="model-selector-empty">No models match this search.</div>',void Z();const e=t.map(t=>{const e=M(t),n=b.selectedKeys.has(e)?"checked":"",r=F(t.company),i=$(I(t));return`\n          <label class="model-chip" data-key="${v(e)}">\n            <input type="checkbox" data-model-key="${v(e)}" ${n} />\n            <span class="chip-body">\n              <span class="chip-swatch" style="background:${r}"></span>\n              <span class="chip-name">${v(t.name)}</span>\n              <span class="chip-score">${i}</span>\n            </span>\n          </label>\n        `}).join("");n.modelSelector.innerHTML=e,Z()}function et(){const t=b.allData.filter(t=>b.selectedKeys.has(M(t))),e={priceMin:P(t.length?t:b.allData,"nominal_price"),tokenMin:P(t.length?t:b.allData,"output_tokens")};!function(t,e){const r=n.bar;if(!r)return;if(!t.length)return void W(r,"No models selected. Choose at least one model to render the leaderboard.");const i=D(t),a={top:20,right:20,bottom:20,left:C(i.reduce((t,e)=>Math.max(t,L(e.name)),120)+86,190,360)},o=Math.max(640,r.clientWidth||980),s=Math.max(260,o-a.left-a.right),c=a.left+s+a.right,l=a.top+a.bottom+46*i.length;r.innerHTML="";const u=document.createElementNS(d,"svg");u.setAttribute("viewBox",`0 0 ${c} ${l}`),u.setAttribute("width","100%"),u.setAttribute("height",l),u.setAttribute("role","img"),u.setAttribute("aria-label","Leaderboard bar chart"),r.appendChild(u);const p=document.createElementNS(d,"rect");p.setAttribute("x",0),p.setAttribute("y",0),p.setAttribute("width",c),p.setAttribute("height",l),p.setAttribute("fill","transparent"),p.style.pointerEvents="none",u.appendChild(p);for(let t=0;t<=100;t+=10){const e=a.left+t/100*s,n=document.createElementNS(d,"line");n.setAttribute("x1",e),n.setAttribute("x2",e),n.setAttribute("y1",a.top/2),n.setAttribute("y2",l-a.bottom/2),n.setAttribute("stroke",t%20==0?"rgba(21, 47, 76, 0.2)":"rgba(21, 47, 76, 0.12)"),n.setAttribute("stroke-width",1),u.appendChild(n);const r=document.createElementNS(d,"text");r.setAttribute("x",e),r.setAttribute("y",a.top-6),r.setAttribute("text-anchor","middle"),r.setAttribute("font-size",11),r.setAttribute("fill","rgba(28, 56, 84, 0.8)"),r.textContent=`${t}%`,u.appendChild(r)}i.forEach((t,n)=>{const r=a.top+46*n,i=C(I(t),0,1),o=Math.max(3,i*s),c=document.createElementNS(d,"text");c.setAttribute("x",12),c.setAttribute("y",r+17-2),c.setAttribute("font-size",12.5),c.setAttribute("font-weight",700),c.setAttribute("fill","#19344e"),c.textContent=t.name,u.appendChild(c);const l=document.createElementNS(d,"text");if(l.setAttribute("x",12),l.setAttribute("y",r+17+13),l.setAttribute("font-size",10.5),l.setAttribute("fill","rgba(25, 52, 79, 0.72)"),l.textContent=t.company,u.appendChild(l),isFinite(t.raw_accuracy)&&t.raw_accuracy!==t.accuracy){const e=document.createElementNS(d,"text");e.setAttribute("x",a.left+s-4),e.setAttribute("y",r+17+12),e.setAttribute("text-anchor","end"),e.setAttribute("font-size",10.5),e.setAttribute("fill","rgba(25, 52, 79, 0.62)"),e.textContent=`raw ${$(t.raw_accuracy)} | errors ${t.errors||0}`,u.appendChild(e)}const p=document.createElementNS(d,"rect");p.setAttribute("x",a.left),p.setAttribute("y",r+3),p.setAttribute("width",s),p.setAttribute("height",28),p.setAttribute("rx",9),p.setAttribute("ry",9),p.setAttribute("fill","rgba(23, 56, 88, 0.12)"),u.appendChild(p);const h=document.createElementNS(d,"rect");h.setAttribute("x",a.left),h.setAttribute("y",r+3),h.setAttribute("width",0),h.setAttribute("height",28),h.setAttribute("rx",9),h.setAttribute("ry",9),h.setAttribute("fill",F(t.company)),h.style.transition="width 620ms cubic-bezier(.2,.9,.2,1)",u.appendChild(h);const m=document.createElementNS(d,"text");m.setAttribute("x",a.left+o+10),m.setAttribute("y",r+17+5),m.setAttribute("font-size",12),m.setAttribute("font-weight",700),m.setAttribute("fill","#173552"),m.textContent=$(i),u.appendChild(m);const b=1.96*(t.stderr||0),f=C(i-b,0,1),y=C(i+b,0,1),w=a.left+f*s,E=a.left+y*s,S=document.createElementNS(d,"line");S.setAttribute("x1",w),S.setAttribute("x2",E),S.setAttribute("y1",r+17+2),S.setAttribute("y2",r+17+2),S.setAttribute("stroke","rgba(20, 45, 73, 0.78)"),S.setAttribute("stroke-width",1.2),u.appendChild(S);const k=document.createElementNS(d,"line");k.setAttribute("x1",w),k.setAttribute("x2",w),k.setAttribute("y1",r+8),k.setAttribute("y2",r+34-8),k.setAttribute("stroke","rgba(20, 45, 73, 0.78)"),k.setAttribute("stroke-width",1.2),u.appendChild(k);const _=document.createElementNS(d,"line");_.setAttribute("x1",E),_.setAttribute("x2",E),_.setAttribute("y1",r+8),_.setAttribute("y2",r+34-8),_.setAttribute("stroke","rgba(20, 45, 73, 0.78)"),_.setAttribute("stroke-width",1.2),u.appendChild(_);const M=document.createElementNS(d,"rect");M.setAttribute("x",a.left-6),M.setAttribute("y",r),M.setAttribute("width",s+12),M.setAttribute("height",34),M.setAttribute("fill","transparent"),M.style.cursor="pointer",u.appendChild(M),M.addEventListener("mouseenter",n=>{A(O(t,e),n)}),M.addEventListener("mousemove",g),M.addEventListener("mouseleave",x),setTimeout(()=>{h.setAttribute("width",o)},35+22*n)})}(t,e),K({container:n.scatterPrice,models:t,baselines:e,xField:"nominal_price",xLabel:"Cost multiple vs cheapest selected (log)",ariaLabel:"Score versus cost multiple scatter chart"}),K({container:n.scatterTokens,models:t,baselines:e,xField:"output_tokens",xLabel:"Output token multiple vs tersest selected (log)",ariaLabel:"Score versus output token multiple scatter chart"}),Z()}async function nt(){S(function(){try{const t=localStorage.getItem(i);return t===o||t===a?t:null}catch(t){return null}}()||(Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)?o:a),{persist:!1}),n.themeToggle&&n.themeToggle.addEventListener("click",()=>{S((document.documentElement.getAttribute("data-theme")===o?o:a)===o?a:o)}),n.modelSelector&&n.modelSelector.addEventListener("change",t=>{const e=t.target;if(!(e instanceof HTMLInputElement))return;const n=e.getAttribute("data-model-key");n&&(e.checked?b.selectedKeys.add(n):b.selectedKeys.delete(n),J(),et())}),n.modelSearch&&n.modelSearch.addEventListener("input",()=>{b.searchTerm=n.modelSearch.value||"",tt()}),n.selectAllBtn&&n.selectAllBtn.addEventListener("click",()=>{Q(b.allData)}),n.clearBtn&&n.clearBtn.addEventListener("click",()=>{Q([])}),n.top10Btn&&n.top10Btn.addEventListener("click",()=>{Q(D(b.allData).slice(0,10))}),n.topByOrgBtn&&n.topByOrgBtn.addEventListener("click",()=>{Q(function(t){const e=D(t),n=[],r=new Set;return e.forEach(t=>{const e=String(t.company||"Unknown").trim().toLowerCase();r.has(e)||(r.add(e),n.push(t))}),n}(b.allData))}),n.resultsModeButtons.forEach(t=>{t.addEventListener("click",()=>{const e=w(t.getAttribute("data-results-mode"));e!==b.resultsMode&&R(e)})}),n.expandToggles.forEach(t=>{t.addEventListener("click",()=>{!function(t){const e=t.getAttribute("data-expand-target");if(!e)return;const r=document.getElementById(e),i=r?.closest(".chart-panel");r&&i&&(b.expandedPanel!==i?(b.expandedPanel&&X(),H()&&q(),b.expandedScrollPos={x:window.scrollX||window.pageXOffset||0,y:window.scrollY||window.pageYOffset||0},i.classList.add("panel-expanded"),document.body.classList.add("no-scroll"),b.expandedPanel=i,b.activeExpandedButton=t,n.expandToggles.forEach(e=>Y(e,e===t)),et()):X({restoreFocus:!0}))}(t)})}),n.filterToggles.forEach(t=>{t.addEventListener("click",()=>{var e;H()&&b.activeFilterToggle===t?q({restoreFocus:!0}):(e=t,n.filterModal&&(b.activeFilterToggle=e||b.activeFilterToggle||n.filterToggles[0]||null,n.filterModal.hidden=!1,n.filterBackdrop&&(n.filterBackdrop.hidden=!1),j(!0),U(),n.modelSearch&&window.setTimeout(()=>{n.modelSearch.focus()},0)))})}),n.filterCloseBtn&&n.filterCloseBtn.addEventListener("click",()=>{q({restoreFocus:!0})}),n.filterBackdrop&&n.filterBackdrop.addEventListener("click",()=>{q({restoreFocus:!1})}),document.addEventListener("keydown",t=>{"Escape"===t.key&&(b.expandedPanel?X({restoreFocus:!0}):H()&&q({restoreFocus:!0}))}),window.addEventListener("resize",()=>{b.resizeTimer&&window.clearTimeout(b.resizeTimer),b.resizeTimer=window.setTimeout(()=>{et(),U()},120)},{passive:!0}),window.addEventListener("scroll",()=>{H()&&U()},{passive:!0});try{const t=_(await async function(){const t=await fetch("results.json",{headers:{Accept:"application/json"},cache:"no-cache"});if(!t.ok)throw new Error(`Unable to fetch results.json (${t.status})`);return t.json()}());b.baseData=t.length?t:_(p)}catch(t){b.baseData=_(p)}R(function(){try{return w(localStorage.getItem(r))}catch(t){return s}}(),{persist:!1})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",nt):nt()}();